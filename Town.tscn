[gd_scene load_steps=8 format=2]

[ext_resource path="res://environment/scripts/TownGenerator.gd" type="Script" id=1]
[ext_resource path="res://Town.gd" type="Script" id=2]
[ext_resource path="res://music/dungeon_5.ogg" type="AudioStream" id=3]
[ext_resource path="res://environment/mapgen/town_tile.tres" type="MeshLibrary" id=4]
[ext_resource path="res://environment/mapgen/single_tilemap2.tres" type="TileSet" id=6]
[ext_resource path="res://characters/player/Player.tscn" type="PackedScene" id=7]
[ext_resource path="res://environment/scripts/TownGridmap.gd" type="Script" id=8]


[node name="Town" type="Spatial"]
script = ExtResource( 2 )

[node name="MusicPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 3 )

[node name="ViewportContainer" type="ViewportContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="ViewportContainer"]
size = Vector2( 1024, 600 )
handle_input_locally = false
hdr = false
render_target_update_mode = 3
shadow_atlas_size = 1024

[node name="TownGenerator" type="Spatial" parent="ViewportContainer/Viewport"]
script = ExtResource( 1 )

[node name="Navigation" type="Navigation" parent="ViewportContainer/Viewport/TownGenerator"]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="ViewportContainer/Viewport/TownGenerator/Navigation"]

[node name="DungeonGrid" type="GridMap" parent="ViewportContainer/Viewport/TownGenerator"]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0 )
mesh_library = ExtResource( 4 )
cell_size = Vector3( 4, 4, 4 )
cell_octant_size = 16
data = {
"cells": PoolIntArray(  )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Gridmap" type="Node2D" parent="ViewportContainer/Viewport/TownGenerator"]
visible = false
scale = Vector2( 2, 2 )
script = ExtResource( 8 )
nr = 20
rx = 5
ry = 5

[node name="TileMap" type="TileMap" parent="ViewportContainer/Viewport/TownGenerator/Gridmap"]
tile_set = ExtResource( 6 )
cell_size = Vector2( 8, 8 )
cell_tile_origin = 2
format = 1

[node name="Player" parent="ViewportContainer/Viewport" instance=ExtResource( 7 )]

[node name="WorldEnvironment" type="WorldEnvironment" parent="ViewportContainer/Viewport"]
